var tablePaginater=function(){function v(e,a){new RegExp("(^|\\s)"+a+"(\\s|$)").test(e.className)||(e.className+=(e.className?" ":"")+a)}function x(e,a){e.className=a?(e.className||"").replace(new RegExp("(^|\\s)"+a+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""):""}function e(e,a,t){e.attachEvent?(e["e"+a+t]=t,e[a+t]=function(){e["e"+a+t](window.event)},e.attachEvent("on"+a,e[a+t])):e.addEventListener(a,t,!0)}function a(e){for(var a,t,n,r,l,s,i=e&&"string"==typeof e?[document.getElementById(e)]:document.getElementsByTagName("table"),o=0;s=i[o];o++)-1!=s.className.search(/paginate-([0-9]+)/)&&(s.id||(s.id="fdUniqueTableId_"+c++),(t=-1==s.className.search(/max-pages-([0-9]+)/)?null:Number(s.className.match(/max-pages-([0-9]+)/)[1]))%2==0&&1<t&&t--,a=(a=s.getElementsByTagName("tbody")).length?a[0]:s,t>(n=d(a))/Number(s.className.match(/paginate-([0-9]+)/)[1])&&(t=null),(r=Math.ceil(n/Number(s.className.match(/paginate-([0-9]+)/)[1])))<2&&!(s.id in b)||(l=s.id in b?Math.min(b[s.id].currentPage,r):1,b[s.id]={rowsPerPage:Number(s.className.match(/paginate-([0-9]+)/)[1]),currentPage:l,totalRows:a.getElementsByTagName("tr").length,hook:a,maxPages:t,numPages:r,rowStyle:-1!=s.className.search(/rowstyle-([\S]+)/)&&s.className.match(/rowstyle-([\S]+)/)[1],callbacks:m(/^paginationcallback-/i,/paginationcallback-([\S-]+)/gi,s.className)},P(s.id),a=null))}function o(e,a,t){var n=document.createElement("li"),r=document.createElement(t?"div":"a"),l=document.createElement("span");t||(r.href="#",r.title=e.title),r.className=e.className,a.appendChild(n),n.appendChild(r),r.appendChild(l),l.appendChild(document.createTextNode(e.text)),t||(n.onclick=r.onclick=s,e.id&&(r.id=e.id)),n=r=l=null}function u(e){if(e in b){!function(e){var a=document.getElementById(e+"-fdtablePaginaterWrapTop"),t=document.getElementById(e+"-fdtablePaginaterWrapBottom");a&&a.parentNode.removeChild(a),t&&t.parentNode.removeChild(t)}(e);var t=b[e];if(!(t.numPages<2)){t.maxPages?(findex=Math.max(0,Math.floor(Number(t.currentPage-1)-Number(t.maxPages-1)/2)),lindex=findex+Number(t.maxPages),lindex>t.numPages&&(lindex=t.numPages,findex=Math.max(0,t.numPages-Number(t.maxPages)))):(findex=0,lindex=t.numPages);var a=document.createElement("div");a.className="fdtablePaginaterWrap fdtablePaginatorWrapTop",a.id=e+"-fdtablePaginaterWrapTop";var n=document.createElement("div");n.className="fdtablePaginaterWrap fdtablePaginatorWrapBottom",n.id=e+"-fdtablePaginaterWrapBottom";var r=document.createElement("ul");r.id=e+"-tablePaginater";var l=document.createElement("ul");l.id=e+"-tablePaginaterClone",r.className=l.className="fdtablePaginater",a.appendChild(r),n.appendChild(l),t.maxPages&&(o({title:g[0],className:"first-page",text:"«"},r,!findex),o({title:g[0],className:"first-page",text:"«"},l,!findex)),2<t.numPages&&(o({title:i(g[1],t.currentPage-1),className:"previous-page",text:"‹",id:e+"-previousPage"},r,1==t.currentPage),o({title:i(g[1],t.currentPage-1),className:"previous-page",text:"‹",id:e+"-previousPageC"},l,1==t.currentPage));for(var s=findex;s<lindex;s++)o({title:i(g[4],s+1),className:s!=t.currentPage-1?"page-"+(s+1):"currentPage page-"+(s+1),text:s+1,id:s==t.currentPage-1?e+"-currentPage":""},r),o({title:i(g[4],s+1),className:s!=t.currentPage-1?"page-"+(s+1):"currentPage page-"+(s+1),text:s+1,id:s==t.currentPage-1?e+"-currentPageC":""},l);2<t.numPages&&(o({title:i(g[2],t.currentPage+1),className:"next-page",text:"›",id:e+"-nextPage"},r,t.currentPage==t.numPages),o({title:i(g[2],t.currentPage+1),className:"next-page",text:"›",id:e+"-nextPageC"},l,t.currentPage==t.numPages)),t.maxPages&&(o({title:i(g[3],t.numPages),className:"last-page",text:"»"},r,lindex==t.numPages),o({title:i(g[3],t.numPages),className:"last-page",text:"»"},l,lindex==t.numPages)),document.getElementById(e+"-paginationListWrapTop")?document.getElementById(e+"-paginationListWrapTop").appendChild(a):document.getElementById(e).parentNode.insertBefore(a,document.getElementById(e)),document.getElementById(e+"-paginationListWrapBottom")?document.getElementById(e+"-paginationListWrapBottom").appendChild(n):document.getElementById(e).parentNode.insertBefore(n,document.getElementById(e).nextSibling)}}function i(e,a){return a=a||t.currentPage,e.replace("%p",a).replace("%t",t.numPages)}}var b={},c=0,g=["First Page","Previous Page (Page %p)","Next Page (Page %p)","Last Page (Page %t)","Page %p of %t"],m=function(e,a,t){var n,r,l,s=[],i=t.match(a);if(!i)return[];for(var o,c=0;o=i[c];c++){o=o.replace(e,"").replace(/-/g,".");try{if(-1!=o.indexOf(".")){n=o.split("."),r=window;for(var g,m=0;g=r[n[m]];m++)g instanceof Function?function(){var a=g;l=function(e){a.apply(r,[e])}}():r=g}else l=window[o];if(!(l instanceof Function))continue;s[s.length]=l}catch(e){}}return s},d=function(e){for(var a,t=e.rows,n=0,r=/(^|\s)invisibleRow(\s|$)/,l=0;a=t[l];l++)a.parentNode!=e||a.getElementsByTagName("th").length||a.parentNode&&-1!=a.parentNode.tagName.toLowerCase().search(/thead|tfoot/)||-1==a.className.search(r)&&n++;return n},P=function(e,a){if(e in b){for(var t=Math.max(0,a?a-1:b[e].currentPage-1),n=b[e].rowsPerPage*t,r=Math.min(b[e].totalRows,n+b[e].rowsPerPage),l=b[e].hook.rows,s=0,i=0,o=l.length,c=b[e].rowStyle,g=/(^|\s)invisibleRow(\s|$)/,m=[],d=0;d<o;d++)-1!=l[d].className.search(g)||l[d].getElementsByTagName("th").length||l[d].parentNode&&-1!=l[d].parentNode.tagName.toLowerCase().search(/thead|tfoot/)||(n<++s&&s<=r?(c&&(1&i++?v(l[d],c):x(l[d],c)),l[d].style.display="",m[m.length]=l[d]):l[d].style.display="none");u(e),function(e,a){if(e in b&&b[e].callbacks.length)for(var t,n=0;t=b[e].callbacks[n];n++)t(a||{})}(e,{table:e,totalRows:o,currentPage:t+1,rowsPerPage:b[e].rowsPerPage,visibleRows:m})}},s=function(e){e=e||window.event;var a="a"==this.tagName.toLowerCase()?this:this.getElementsByTagName("a")[0];if(-1!=a.className.search("currentPage"))return!1;for(var t=this;"ul"!=t.tagName.toLowerCase();)t=t.parentNode;var n=t.id.replace("-tablePaginaterClone","").replace("-tablePaginater","");b[n].lastPage=b[n].currentPage;var r=0;if(-1!=a.className.search("previous-page")?(b[n].currentPage=1<b[n].currentPage?b[n].currentPage-1:b[n].numPages,r=1):-1!=a.className.search("next-page")?(b[n].currentPage=b[n].currentPage<b[n].numPages?b[n].currentPage+1:1,r=2):-1!=a.className.search("first-page")?b[n].currentPage=1:-1!=a.className.search("last-page")?b[n].currentPage=b[n].numPages:b[n].currentPage=parseInt(a.className.match(/page-([0-9]+)/)[1])||1,P(n),1==r)var l=document.getElementById(-1!=t.id.search("-tablePaginaterClone")?n+"-previousPageC":n+"-previousPage");else if(2==r)l=document.getElementById(-1!=t.id.search("-tablePaginaterClone")?n+"-nextPageC":n+"-nextPage");else l=document.getElementById(-1!=t.id.search("-tablePaginaterClone")?n+"-currentPageC":n+"-currentPage");return l&&"a"==l.tagName.toLowerCase()&&l.focus(),function(e){return(e=e||window.event).stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1}(e)};return e(window,"load",a),e(window,"unload",function(e){var a,t,n;for(tblId in b){n=[tblId+"-tablePaginater",tblId+"-tablePaginaterClone"];for(var r=0;r<2;r++)if(t=document.getElementById(n[r])){a=t.getElementsByTagName("li");for(var l,s=0;l=a[s];s++)l.onclick=null,l.getElementsByTagName("a").length&&(l.getElementsByTagName("a")[0].onclick=null)}}}),{init:function(e){a(e)},redraw:function(e,a){!function(e,a){if(e&&e in fdTableSort.tableCache&&e in b){for(var t,n,r=fdTableSort.tableCache[e],l=r.data,s=l.length,i=s?l[0].length-1:0,o=r.hook,c=r.colStyle,g=r.rowStyle,m=r.colOrder,d=b[e].currentPage-1,u=b[e].rowsPerPage*d,P=Math.min(b[e].totalRows,u+b[e].rowsPerPage),p=0,f=0,h=/(^|\s)invisibleRow(\s|$)/,N=0;N<s;N++){if(t=l[N][i],c)for(thPos in n=t.cells,m)m[thPos]?v(n[thPos],c):x(n[thPos],c);-1==t.className.search(h)&&(a||(u<++p&&p<=P?(g&&(1&f++?v(t,g):x(t,g)),t.style.display=""):t.style.display="none",o.appendChild(t)))}t=n=o=null}}(e,a)},tableIsPaginated:function(e){return e in b},changeTranslations:function(e){g=e}}}();