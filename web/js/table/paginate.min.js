var tablePaginater=function(){var v={},c=0,m=["First Page","Previous Page (Page %p)","Next Page (Page %p)","Last Page (Page %t)","Page %p of %t"],x=function(e,a){new RegExp("(^|\\s)"+a+"(\\s|$)").test(e.className)||(e.className+=(e.className?" ":"")+a)},b=function(e,a){e.className=a?(e.className||"").replace(new RegExp("(^|\\s)"+a+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""):""},e=function(e,a,t){e.attachEvent?(e["e"+a+t]=t,e[a+t]=function(){e["e"+a+t](window.event)},e.attachEvent("on"+a,e[a+t])):e.addEventListener(a,t,!0)},a=function(e){for(var a,t,n,r,l,s,i=e&&"string"==typeof e?[document.getElementById(e)]:document.getElementsByTagName("table"),o=0;s=i[o];o++)-1!=s.className.search(/paginate-([0-9]+)/)&&(s.id||(s.id="fdUniqueTableId_"+c++),(t=-1==s.className.search(/max-pages-([0-9]+)/)?null:Number(s.className.match(/max-pages-([0-9]+)/)[1]))%2==0&&1<t&&t--,a=(a=s.getElementsByTagName("tbody")).length?a[0]:s,t>(n=d(a))/Number(s.className.match(/paginate-([0-9]+)/)[1])&&(t=null),(r=Math.ceil(n/Number(s.className.match(/paginate-([0-9]+)/)[1])))<2&&!(s.id in v)||(l=s.id in v?Math.min(v[s.id].currentPage,r):1,v[s.id]={rowsPerPage:Number(s.className.match(/paginate-([0-9]+)/)[1]),currentPage:l,totalRows:a.getElementsByTagName("tr").length,hook:a,maxPages:t,numPages:r,rowStyle:-1!=s.className.search(/rowstyle-([\S]+)/)&&s.className.match(/rowstyle-([\S]+)/)[1],callbacks:g(/^paginationcallback-/i,/paginationcallback-([\S-]+)/gi,s.className)},p(s.id),a=null))},g=function(e,a,t){var n,r,l,s=[],i=t.match(a);if(!i)return[];for(var o,c=0;o=i[c];c++){o=o.replace(e,"").replace(/-/g,".");try{if(-1!=o.indexOf(".")){n=o.split("."),r=window;for(var g,m=0;g=r[n[m]];m++)g instanceof Function?function(){var a=g;l=function(e){a.apply(r,[e])}}():r=g}else l=window[o];if(!(l instanceof Function))continue;s[s.length]=l}catch(e){}}return s},d=function(e){for(var a,t=e.rows,n=0,r=/(^|\s)invisibleRow(\s|$)/,l=0;a=t[l];l++)a.parentNode!=e||a.getElementsByTagName("th").length||a.parentNode&&-1!=a.parentNode.tagName.toLowerCase().search(/thead|tfoot/)||-1==a.className.search(r)&&n++;return n},u=function(e,a,t){var n=document.createElement("li"),r=document.createElement(t?"div":"a"),l=document.createElement("span");t||(r.href="#",r.title=e.title),r.className=e.className,a.appendChild(n),n.appendChild(r),r.appendChild(l),l.appendChild(document.createTextNode(e.text)),t||(n.onclick=r.onclick=s,e.id&&(r.id=e.id)),n=r=l=null},P=function(e){if(e in v){var a,t,n;a=e,t=document.getElementById(a+"-fdtablePaginaterWrapTop"),n=document.getElementById(a+"-fdtablePaginaterWrapBottom"),t&&t.parentNode.removeChild(t),n&&n.parentNode.removeChild(n);var r=v[e];if(!(r.numPages<2)){r.maxPages?(findex=Math.max(0,Math.floor(Number(r.currentPage-1)-Number(r.maxPages-1)/2)),lindex=findex+Number(r.maxPages),lindex>r.numPages&&(lindex=r.numPages,findex=Math.max(0,r.numPages-Number(r.maxPages)))):(findex=0,lindex=r.numPages);var l=document.createElement("div");l.className="fdtablePaginaterWrap fdtablePaginatorWrapTop",l.id=e+"-fdtablePaginaterWrapTop";var s=document.createElement("div");s.className="fdtablePaginaterWrap fdtablePaginatorWrapBottom",s.id=e+"-fdtablePaginaterWrapBottom";var i=document.createElement("ul");i.id=e+"-tablePaginater";var o=document.createElement("ul");o.id=e+"-tablePaginaterClone",i.className=o.className="fdtablePaginater",l.appendChild(i),s.appendChild(o),r.maxPages&&(u({title:m[0],className:"first-page",text:"«"},i,!findex),u({title:m[0],className:"first-page",text:"«"},o,!findex)),2<r.numPages&&(u({title:g(m[1],r.currentPage-1),className:"previous-page",text:"‹",id:e+"-previousPage"},i,1==r.currentPage),u({title:g(m[1],r.currentPage-1),className:"previous-page",text:"‹",id:e+"-previousPageC"},o,1==r.currentPage));for(var c=findex;c<lindex;c++)u({title:g(m[4],c+1),className:c!=r.currentPage-1?"page-"+(c+1):"currentPage page-"+(c+1),text:c+1,id:c==r.currentPage-1?e+"-currentPage":""},i),u({title:g(m[4],c+1),className:c!=r.currentPage-1?"page-"+(c+1):"currentPage page-"+(c+1),text:c+1,id:c==r.currentPage-1?e+"-currentPageC":""},o);2<r.numPages&&(u({title:g(m[2],r.currentPage+1),className:"next-page",text:"›",id:e+"-nextPage"},i,r.currentPage==r.numPages),u({title:g(m[2],r.currentPage+1),className:"next-page",text:"›",id:e+"-nextPageC"},o,r.currentPage==r.numPages)),r.maxPages&&(u({title:g(m[3],r.numPages),className:"last-page",text:"»"},i,lindex==r.numPages),u({title:g(m[3],r.numPages),className:"last-page",text:"»"},o,lindex==r.numPages)),document.getElementById(e+"-paginationListWrapTop")?document.getElementById(e+"-paginationListWrapTop").appendChild(l):document.getElementById(e).parentNode.insertBefore(l,document.getElementById(e)),document.getElementById(e+"-paginationListWrapBottom")?document.getElementById(e+"-paginationListWrapBottom").appendChild(s):document.getElementById(e).parentNode.insertBefore(s,document.getElementById(e).nextSibling)}}function g(e,a){return a=a||r.currentPage,e.replace("%p",a).replace("%t",r.numPages)}},p=function(e,a){if(e in v){for(var t=Math.max(0,a?a-1:v[e].currentPage-1),n=v[e].rowsPerPage*t,r=Math.min(v[e].totalRows,n+v[e].rowsPerPage),l=v[e].hook.rows,s=0,i=0,o=l.length,c=v[e].rowStyle,g=/(^|\s)invisibleRow(\s|$)/,m=[],d=0;d<o;d++)-1!=l[d].className.search(g)||l[d].getElementsByTagName("th").length||l[d].parentNode&&-1!=l[d].parentNode.tagName.toLowerCase().search(/thead|tfoot/)||(n<++s&&s<=r?(c&&(1&i++?x(l[d],c):b(l[d],c)),l[d].style.display="",m[m.length]=l[d]):l[d].style.display="none");P(e),function(e,a){if(e in v&&v[e].callbacks.length)for(var t,n=0;t=v[e].callbacks[n];n++)t(a||{})}(e,{table:e,totalRows:o,currentPage:t+1,rowsPerPage:v[e].rowsPerPage,visibleRows:m})}},s=function(e){e=e||window.event;var a="a"==this.tagName.toLowerCase()?this:this.getElementsByTagName("a")[0];if(-1!=a.className.search("currentPage"))return!1;for(var t=this;"ul"!=t.tagName.toLowerCase();)t=t.parentNode;var n=t.id.replace("-tablePaginaterClone","").replace("-tablePaginater","");v[n].lastPage=v[n].currentPage;var r,l=0;if(-1!=a.className.search("previous-page")?(v[n].currentPage=1<v[n].currentPage?v[n].currentPage-1:v[n].numPages,l=1):-1!=a.className.search("next-page")?(v[n].currentPage=v[n].currentPage<v[n].numPages?v[n].currentPage+1:1,l=2):-1!=a.className.search("first-page")?v[n].currentPage=1:-1!=a.className.search("last-page")?v[n].currentPage=v[n].numPages:v[n].currentPage=parseInt(a.className.match(/page-([0-9]+)/)[1])||1,p(n),1==l)var s=document.getElementById(-1!=t.id.search("-tablePaginaterClone")?n+"-previousPageC":n+"-previousPage");else if(2==l)s=document.getElementById(-1!=t.id.search("-tablePaginaterClone")?n+"-nextPageC":n+"-nextPage");else s=document.getElementById(-1!=t.id.search("-tablePaginaterClone")?n+"-currentPageC":n+"-currentPage");return s&&"a"==s.tagName.toLowerCase()&&s.focus(),(r=(r=e)||window.event).stopPropagation&&(r.stopPropagation(),r.preventDefault()),!1};return e(window,"load",a),e(window,"unload",function(e){var a,t,n;for(tblId in v){n=[tblId+"-tablePaginater",tblId+"-tablePaginaterClone"];for(var r=0;r<2;r++)if(t=document.getElementById(n[r])){a=t.getElementsByTagName("li");for(var l,s=0;l=a[s];s++)l.onclick=null,l.getElementsByTagName("a").length&&(l.getElementsByTagName("a")[0].onclick=null)}}}),{init:function(e){a(e)},redraw:function(e,a){!function(e,a){if(e&&e in fdTableSort.tableCache&&e in v){for(var t,n,r=fdTableSort.tableCache[e],l=r.data,s=l.length,i=s?l[0].length-1:0,o=r.hook,c=r.colStyle,g=r.rowStyle,m=r.colOrder,d=v[e].currentPage-1,u=v[e].rowsPerPage*d,P=Math.min(v[e].totalRows,u+v[e].rowsPerPage),p=0,f=0,h=/(^|\s)invisibleRow(\s|$)/,N=0;N<s;N++){if(t=l[N][i],c)for(thPos in n=t.cells,m)m[thPos]?x(n[thPos],c):b(n[thPos],c);-1==t.className.search(h)&&(a||(u<++p&&p<=P?(g&&(1&f++?x(t,g):b(t,g)),t.style.display=""):t.style.display="none",o.appendChild(t)))}t=n=o=null}}(e,a)},tableIsPaginated:function(e){return e in v},changeTranslations:function(e){m=e}}}();